<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Block Ads for All Your Devices with Pi-Hole DNS and Docker | Netsparse · Angel Nevarez</title><meta name=keywords content="pi-hole,docker,dns,adblock,ads,networking"><meta name=description content="Pi-hole is a DNS sinkhole that blocks advertisements, trackers, and other unwanted content from being served to devices on your network.
It can be run on a Raspberry Pi or other hardware, but running it in a Docker container has some benefits, such as easier installation and management.
If you are also new to Docker, check out my previous post on how to get started with Docker.
A Bit of History The Pi-hole project was started by Jacob Salmela in 2014 as an open source alternative to AdTrap, which was a device that would block advertisements and tracking domains at the network level."><meta name=author content="Angel"><link rel=canonical href=https://netsparse.dev/posts/2023-03/pihole-dns-with-docker/><link crossorigin=anonymous href=/assets/css/stylesheet.css rel="preload stylesheet" as=style><link rel=icon href=https://netsparse.dev/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://netsparse.dev/favicon.ico><link rel=icon type=image/png sizes=32x32 href=https://netsparse.dev/favicon.ico><link rel=mask-icon href=https://netsparse.dev/favicon.ico><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><noscript><style>#theme-toggle,.top-link{display:none}</style></noscript><script async src="https://www.googletagmanager.com/gtag/js?id=G-H4GRFCYEJN"></script>
<script>var dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes";if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-H4GRFCYEJN",{anonymize_ip:!1})}</script><meta property="og:title" content="Block Ads for All Your Devices with Pi-Hole DNS and Docker"><meta property="og:description" content="Pi-hole is a DNS sinkhole that blocks advertisements, trackers, and other unwanted content from being served to devices on your network.
It can be run on a Raspberry Pi or other hardware, but running it in a Docker container has some benefits, such as easier installation and management.
If you are also new to Docker, check out my previous post on how to get started with Docker.
A Bit of History The Pi-hole project was started by Jacob Salmela in 2014 as an open source alternative to AdTrap, which was a device that would block advertisements and tracking domains at the network level."><meta property="og:type" content="article"><meta property="og:url" content="https://netsparse.dev/posts/2023-03/pihole-dns-with-docker/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2023-03-02T23:32:47-05:00"><meta property="article:modified_time" content="2023-03-02T23:32:47-05:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="Block Ads for All Your Devices with Pi-Hole DNS and Docker"><meta name=twitter:description content="Pi-hole is a DNS sinkhole that blocks advertisements, trackers, and other unwanted content from being served to devices on your network.
It can be run on a Raspberry Pi or other hardware, but running it in a Docker container has some benefits, such as easier installation and management.
If you are also new to Docker, check out my previous post on how to get started with Docker.
A Bit of History The Pi-hole project was started by Jacob Salmela in 2014 as an open source alternative to AdTrap, which was a device that would block advertisements and tracking domains at the network level."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":2,"name":"Posts","item":"https://netsparse.dev/posts/"},{"@type":"ListItem","position":3,"name":"Block Ads for All Your Devices with Pi-Hole DNS and Docker","item":"https://netsparse.dev/posts/2023-03/pihole-dns-with-docker/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Block Ads for All Your Devices with Pi-Hole DNS and Docker","name":"Block Ads for All Your Devices with Pi-Hole DNS and Docker","description":"Pi-hole is a DNS sinkhole that blocks advertisements, trackers, and other unwanted content from being served to devices on your network.\nIt can be run on a Raspberry Pi or other hardware, but running it in a Docker container has some benefits, such as easier installation and management.\nIf you are also new to Docker, check out my previous post on how to get started with Docker.\nA Bit of History The Pi-hole project was started by Jacob Salmela in 2014 as an open source alternative to AdTrap, which was a device that would block advertisements and tracking domains at the network level.","keywords":["pi-hole","docker","dns","adblock","ads","networking"],"articleBody":"Pi-hole is a DNS sinkhole that blocks advertisements, trackers, and other unwanted content from being served to devices on your network.\nIt can be run on a Raspberry Pi or other hardware, but running it in a Docker container has some benefits, such as easier installation and management.\nIf you are also new to Docker, check out my previous post on how to get started with Docker.\nA Bit of History The Pi-hole project was started by Jacob Salmela in 2014 as an open source alternative to AdTrap, which was a device that would block advertisements and tracking domains at the network level.\nSalmela, a former system administrator, was looking for a solution that would block ads and tracking for all devices on his home network, without having to install ad blockers on each individual device.\nThe Pi-hole quickly gained popularity among privacy-conscious users and became a popular tool for blocking ads and tracking domains at the network level.\nToday, the Pi-hole project continues to be maintained and improved by a community of volunteers, with regular updates and new features being added.\nHow It Works DNS When you visit a Website, that site might be trying to load stuff from other domains (such as advertisements). So your computer makes a DNS query to find out the IP address of that resource.\nSince the Pi-hole acts as a DNS server, it can tell your computer that SomeAdDomain.com exists at a fake IP address (usually 0.0.0.0), instead of loading the ad from the real domain, a blank page from the Pi is downloaded, thus “blocking” the ad.\nIf you are new to DNS, here’s a quick overview by Fireship.io.\nBenefits Block ads and trackers: Pi-hole blocks ads, trackers, and other unwanted content at the DNS level, so it can be more effective than browser-based ad blockers that only block ads on the sites you visit. Faster browsing: By blocking unwanted content, Pi-hole can speed up browsing and reduce data usage. Network-wide blocking: Pi-hole can be set up to block ads and trackers on all devices on your network, including smartphones, tablets, and smart TVs. Easy to use: Once set up, Pi-hole requires minimal maintenance and can be easily managed through a web interface. Setup One-Step Automated Install Those who want to get started quickly and conveniently may install Pi-hole using the following command:\n1 curl -sSL https://install.pi-hole.net | bash Install with Docker and Docker Compose If you are familiar with Docker and Docker Compose, you can utilize them to setup a Pi-hole in a container.\nCreate Docker Compose File Create a Docker Compose file that defines our Pi-hole container.\nCreate a new file named docker-compose.yml in a new directory and paste the following contents:\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 version: '3' services: pihole: image: pihole/pihole:latest container_name: pihole restart: always environment: TZ: 'America/Chicago' WEBPASSWORD: 'your_password_here' volumes: - './etc-pihole/:/etc/pihole/' - './etc-dnsmasq.d/:/etc/dnsmasq.d/' ports: - '53:53/tcp' - '53:53/udp' - '80:80/tcp' - '443:443/tcp' This Docker Compose file specifies the Pi-hole image, container name, restart policy, environment variables, volumes, DNS servers, and ports.\nYou can customize some of the values in this file, such as the timezone TZ, the web interface password WEBPASSWORD, and the DNS servers.\nThe volumes section specifies the directories where Pi-hole will store its configuration files and blocklists.\nStart Pi-hole Container With the Docker Compose file created, we can start the Pi-hole container by running the following command in the same directory as the docker-compose.yml file:\n1 docker-compose up -d You can learn more about the Docker installation method here\nAccess Pi-hole Web Interface Once the container is running, you can access the Pi-hole web interface by opening a web browser and navigating to http://\nIf you’re running Docker on your local machine, you can use http://localhost or http://127.0.0.1.\nYou should see the Pi-hole web interface, which allows you to configure Pi-hole, view statistics, and manage blocked domains.\nConfiguration DHCP Settings on Router Before Pi-hole can start blocking ads and trackers, you will need to configure your router to have DHCP clients use Pi-hole as their DNS server, which ensures all devices connected to your network will have content blocked without any further intervention.\nThis will of course vary depending on your router’s model and make. Consult with your router manufacturer’s guide on how to perform the above.\nIf your router does not support setting the DNS server, you can use Pi-hole’s built-in DHCP server; just be sure to disable DHCP on your router first (if it has that feature available).\nManual Device Configuration As a last resort, you can manually set each device to use Pi-hole as its DNS server.\nOnce your devices are using Pi-hole as their DNS server, Pi-hole will start blocking ads and trackers automatically.\nUpdate Pi-hole To update Pi-hole to a newer version, you can simply run the following command:\n1 pihole -up If you setup your Pi-hole with Docker and Docker Compose, run:\n1 2 docker-compose pull docker-compose up -d This will pull the latest version of the Pi-hole image and recreate the container with the new image.\nConclusion Setting up a Pi-hole Docker container using Docker Compose is an easy and convenient way to block ads and trackers on your network. With Pi-hole, you can speed up browsing, reduce data usage, and block unwanted content at the DNS level. Docker Compose makes it easy to manage and deploy Pi-hole, and the web interface allows you to configure Pi-hole and view statistics.\nLearn More Official Documentation FAQ GitHub About Docker Guide ","wordCount":"926","inLanguage":"en","datePublished":"2023-03-02T23:32:47-05:00","dateModified":"2023-03-02T23:32:47-05:00","author":{"@type":"Person","name":"Angel"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://netsparse.dev/posts/2023-03/pihole-dns-with-docker/"},"publisher":{"@type":"Organization","name":"Netsparse · Angel Nevarez","logo":{"@type":"ImageObject","url":"https://netsparse.dev/favicon.ico"}}}</script></head><body class=dark id=top><script>localStorage.getItem("pref-theme")==="light"&&document.body.classList.remove("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://netsparse.dev accesskey=h title=Home><img src=/images/site-logo/cable-128.ico alt=logo aria-label=logo width=30 height=30></a></a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Dark/Light Mode)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://netsparse.dev/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li><li><a href=https://netsparse.dev/blog/ title=Blog><span>Blog</span></a></li><li><a href=https://netsparse.dev/tags/ title=Tags><span>Tags</span></a></li><li><a href=https://netsparse.dev/projects/ title=Projects><span>Projects</span></a></li><li><a href=https://netsparse.dev/contact/ title=Contact><span>Contact</span></a></li><li><a href=https://netsparse.dev/about/ title=About><span>About</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://netsparse.dev>Home</a>&nbsp;»&nbsp;<a href=https://netsparse.dev/posts/>Posts</a></div><h1 class=post-title>Block Ads for All Your Devices with Pi-Hole DNS and Docker</h1><div class=post-meta><span title='2023-03-02 23:32:47 -0500 -0500'>March 2, 2023</span>&nbsp;·&nbsp;5 min&nbsp;·&nbsp;926 words&nbsp;·&nbsp;Angel</div></header><div class=toc><details><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><ul><li><a href=#a-bit-of-history aria-label="A Bit of History">A Bit of History</a></li><li><a href=#how-it-works aria-label="How It Works">How It Works</a><ul><li><a href=#dns aria-label=DNS>DNS</a></li></ul></li><li><a href=#benefits aria-label=Benefits>Benefits</a></li><li><a href=#setup aria-label=Setup>Setup</a><ul><li><a href=#one-step-automated-install aria-label="One-Step Automated Install">One-Step Automated Install</a></li><li><a href=#install-with-docker-and-docker-compose aria-label="Install with Docker and Docker Compose">Install with Docker and Docker Compose</a><ul><li><a href=#create-docker-compose-file aria-label="Create Docker Compose File">Create Docker Compose File</a></li><li><a href=#start-pi-hole-container aria-label="Start Pi-hole Container">Start Pi-hole Container</a></li></ul></li></ul></li><li><a href=#access-pi-hole-web-interface aria-label="Access Pi-hole Web Interface">Access Pi-hole Web Interface</a></li><li><a href=#configuration aria-label=Configuration>Configuration</a><ul><li><a href=#dhcp-settings-on-router aria-label="DHCP Settings on Router">DHCP Settings on Router</a></li><li><a href=#manual-device-configuration aria-label="Manual Device Configuration">Manual Device Configuration</a></li></ul></li><li><a href=#update-pi-hole aria-label="Update Pi-hole">Update Pi-hole</a></li><li><a href=#conclusion aria-label=Conclusion>Conclusion</a><ul><li><a href=#learn-more aria-label="Learn More">Learn More</a></li></ul></li></ul></div></details></div><div class=post-content><p><a href=https://pi-hole.net/>Pi-hole</a> is a DNS sinkhole that blocks advertisements, trackers, and other unwanted content from being served to devices on your network.</p><p>It can be run on a <a href=https://www.raspberrypi.com/>Raspberry Pi</a> or other hardware, but running it in a Docker container has some benefits, such as easier installation and management.</p><p>If you are also new to <a href=https://www.docker.com/>Docker</a>, check out my previous post on how to <a href=/posts/2023-02/get-started-with-docker>get started with Docker</a>.</p><h2 id=a-bit-of-history>A Bit of History<a hidden class=anchor aria-hidden=true href=#a-bit-of-history>#</a></h2><p>The Pi-hole project was started by <a href=https://jacobsalmela.com/2015/06/16/block-millions-ads-network-wide-with-a-raspberry-pi-hole-2-0/>Jacob Salmela</a> in 2014 as an open source alternative to <a href=https://web.archive.org/web/20130510132708/http://www.getadtrap.com/>AdTrap</a>, which was a device that would block advertisements and tracking domains at the network level.</p><p>Salmela, a former system administrator, was looking for a solution that would block ads and tracking for all devices on his home network, without having to install ad blockers on each individual device.</p><p>The Pi-hole quickly gained popularity among privacy-conscious users and became a popular tool for blocking ads and tracking domains at the network level.</p><p>Today, the <a href=https://github.com/pi-hole/pi-hole>Pi-hole project</a> continues to be maintained and improved by a community of volunteers, with regular updates and new features being added.</p><h2 id=how-it-works>How It Works<a hidden class=anchor aria-hidden=true href=#how-it-works>#</a></h2><h3 id=dns>DNS<a hidden class=anchor aria-hidden=true href=#dns>#</a></h3><p>When you visit a Website, that site might be trying to load stuff from other domains (such as advertisements). So your computer makes a DNS query to find out the IP address of that resource.</p><p>Since the Pi-hole acts as a DNS server, it can tell your computer that <code>SomeAdDomain.com</code> exists at a fake IP address (usually <code>0.0.0.0</code>), instead of loading the ad from the real domain, a blank page from the Pi is downloaded, thus “blocking” the ad.</p><p>If you are new to DNS, here&rsquo;s a quick overview by <a href=https://fireship.io/>Fireship.io</a>.</p><div class=embed-youtube data-video-id=UVR9lhUGAyU><div class=embed-youtube-play></div></div><script src=/js/custom.js></script><h2 id=benefits>Benefits<a hidden class=anchor aria-hidden=true href=#benefits>#</a></h2><ul><li>Block ads and trackers: Pi-hole blocks ads, trackers, and other unwanted content at the DNS level, so it can be more effective than browser-based ad blockers that only block ads on the sites you visit.</li><li>Faster browsing: By blocking unwanted content, Pi-hole can speed up browsing and reduce data usage.</li><li>Network-wide blocking: Pi-hole can be set up to block ads and trackers on all devices on your network, including smartphones, tablets, and smart TVs.</li><li>Easy to use: Once set up, Pi-hole requires minimal maintenance and can be easily managed through a web interface.</li></ul><h2 id=setup>Setup<a hidden class=anchor aria-hidden=true href=#setup>#</a></h2><h3 id=one-step-automated-install>One-Step Automated Install<a hidden class=anchor aria-hidden=true href=#one-step-automated-install>#</a></h3><p>Those who want to get started quickly and conveniently may install Pi-hole using the following command:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>curl -sSL https://install.pi-hole.net | bash
</span></span></code></pre></td></tr></table></div></div><h3 id=install-with-docker-and-docker-compose>Install with Docker and Docker Compose<a hidden class=anchor aria-hidden=true href=#install-with-docker-and-docker-compose>#</a></h3><p>If you are familiar with <a href=/posts/2023-02/get-started-with-docker/#getting-started>Docker</a> and Docker Compose, you can utilize them to setup a Pi-hole in a container.</p><h4 id=create-docker-compose-file>Create Docker Compose File<a hidden class=anchor aria-hidden=true href=#create-docker-compose-file>#</a></h4><p>Create a <a href=/posts/2023-02/get-started-with-docker/#docker-compose>Docker Compose</a> file that defines our Pi-hole container.</p><p>Create a new file named <code>docker-compose.yml</code> in a new directory and paste the following contents:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yml data-lang=yml><span class=line><span class=cl><span class=nt>version</span><span class=p>:</span><span class=w> </span><span class=s1>&#39;3&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>services</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>pihole</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>image</span><span class=p>:</span><span class=w> </span><span class=l>pihole/pihole:latest</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>container_name</span><span class=p>:</span><span class=w> </span><span class=l>pihole</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>restart</span><span class=p>:</span><span class=w> </span><span class=l>always</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>environment</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>TZ</span><span class=p>:</span><span class=w> </span><span class=s1>&#39;America/Chicago&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>WEBPASSWORD</span><span class=p>:</span><span class=w> </span><span class=s1>&#39;your_password_here&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>volumes</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=s1>&#39;./etc-pihole/:/etc/pihole/&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=s1>&#39;./etc-dnsmasq.d/:/etc/dnsmasq.d/&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>ports</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=s1>&#39;53:53/tcp&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=s1>&#39;53:53/udp&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=s1>&#39;80:80/tcp&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=s1>&#39;443:443/tcp&#39;</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><p>This Docker Compose file specifies the Pi-hole image, container name, restart policy, environment variables, volumes, DNS servers, and ports.</p><p>You can customize some of the values in this file, such as the timezone <code>TZ</code>, the web interface password <code>WEBPASSWORD</code>, and the DNS servers.</p><p>The <code>volumes</code> section specifies the directories where Pi-hole will store its configuration files and blocklists.</p><h4 id=start-pi-hole-container>Start Pi-hole Container<a hidden class=anchor aria-hidden=true href=#start-pi-hole-container>#</a></h4><p>With the Docker Compose file created, we can start the Pi-hole container by running the following command in the same directory as the <code>docker-compose.yml</code> file:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>docker-compose up -d
</span></span></code></pre></td></tr></table></div></div><p>You can learn more about the Docker installation method <a href=https://github.com/pi-hole/docker-pi-hole#quick-start>here</a></p><h2 id=access-pi-hole-web-interface>Access Pi-hole Web Interface<a hidden class=anchor aria-hidden=true href=#access-pi-hole-web-interface>#</a></h2><p>Once the container is running, you can access the Pi-hole web interface by opening a web browser and navigating to <code>http://&lt;ip_address_of_docker_host></code></p><p>If you’re running Docker on your local machine, you can use <code>http://localhost</code> or <code>http://127.0.0.1</code>.</p><p>You should see the Pi-hole web interface, which allows you to configure Pi-hole, view statistics, and manage blocked domains.</p><p><img loading=lazy src=https://pi-hole.github.io/graphics/Screenshots/dashboard.png alt=img></p><h2 id=configuration>Configuration<a hidden class=anchor aria-hidden=true href=#configuration>#</a></h2><h3 id=dhcp-settings-on-router>DHCP Settings on Router<a hidden class=anchor aria-hidden=true href=#dhcp-settings-on-router>#</a></h3><p>Before Pi-hole can start blocking ads and trackers, you will need to configure your router to have DHCP clients use Pi-hole as their DNS server, which ensures all devices connected to your network will have content blocked without any further intervention.</p><p>This will of course vary depending on your router&rsquo;s model and make. Consult with your router manufacturer&rsquo;s guide on how to perform the above.</p><p>If your router does not support setting the DNS server, you can use Pi-hole&rsquo;s built-in DHCP server; just be sure to disable DHCP on your router first (if it has that feature available).</p><h3 id=manual-device-configuration>Manual Device Configuration<a hidden class=anchor aria-hidden=true href=#manual-device-configuration>#</a></h3><p>As a last resort, you can manually set each device to use Pi-hole as its DNS server.</p><p>Once your devices are using Pi-hole as their DNS server, Pi-hole will start blocking ads and trackers automatically.</p><h2 id=update-pi-hole>Update Pi-hole<a hidden class=anchor aria-hidden=true href=#update-pi-hole>#</a></h2><p>To update Pi-hole to a newer version, you can simply run the following command:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>pihole -up
</span></span></code></pre></td></tr></table></div></div><p>If you setup your Pi-hole with Docker and Docker Compose, run:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>docker-compose pull
</span></span><span class=line><span class=cl>docker-compose up -d
</span></span></code></pre></td></tr></table></div></div><p>This will pull the latest version of the Pi-hole image and recreate the container with the new image.</p><h2 id=conclusion>Conclusion<a hidden class=anchor aria-hidden=true href=#conclusion>#</a></h2><p>Setting up a Pi-hole Docker container using Docker Compose is an easy and convenient way to block ads and trackers on your network. With Pi-hole, you can speed up browsing, reduce data usage, and block unwanted content at the DNS level. Docker Compose makes it easy to manage and deploy Pi-hole, and the web interface allows you to configure Pi-hole and view statistics.</p><h3 id=learn-more>Learn More<a hidden class=anchor aria-hidden=true href=#learn-more>#</a></h3><ul><li><a href=https://docs.pi-hole.net/>Official Documentation</a></li><li><a href=https://docs.pi-hole.net/main/faq/>FAQ</a></li><li><a href=https://github.com/pi-hole/pi-hole>GitHub</a></li><li><a href=https://docs.pi-hole.net/main/origins/>About</a></li><li><a href=https://github.com/pi-hole/docker-pi-hole>Docker Guide</a></li></ul></div><footer class=post-footer><ul class=post-tags><li><a href=https://netsparse.dev/tags/pi-hole/>pi-hole</a></li><li><a href=https://netsparse.dev/tags/docker/>docker</a></li><li><a href=https://netsparse.dev/tags/dns/>dns</a></li><li><a href=https://netsparse.dev/tags/adblock/>adblock</a></li><li><a href=https://netsparse.dev/tags/ads/>ads</a></li><li><a href=https://netsparse.dev/tags/networking/>networking</a></li></ul><nav class=paginav><a class=prev href=https://netsparse.dev/posts/2023-03/take-your-ad-blocking-with-you-with-nextdns/><span class=title>« Prev</span><br><span>Take Your Ad Blocking With You On The Go With NextDNS</span></a>
<a class=next href=https://netsparse.dev/posts/2023-02/create-awesome-diagrams-and-graphs-for-your-docs/><span class=title>Next »</span><br><span>Awesome Diagrams and Graphs for Your Documentation</span></a></nav></footer><script src=https://utteranc.es/client.js repo=netsparse/main-site-hugo issue-term=pathname theme=photon-dark crossorigin=anonymous async></script></article></main><footer class=footer><span>&copy; 2023 <a href=https://netsparse.dev>Netsparse · Angel Nevarez</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>